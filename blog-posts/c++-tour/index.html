<!DOCTYPE html>
<html lang="en" data-theme="dark"><head>
    <title>  | A Whirlwind Tour of C&#43;&#43; </title>
    <meta charset="utf-8"><meta name="generator" content="Hugo 0.74.3" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
    <meta name="description" content="University Of Pennsylvania PhD Student">
    
    <link rel="stylesheet" href="../../css/style.min.e93575d7ce4df83c7a9af72ec12e9a136620fe36031c57c52ba99762ae705d53.css" integrity="sha256-6TV1185N&#43;Dx6mvcuwS6aE2Yg/jYDHFfFK6mXYq5wXVM=" crossorigin="anonymous" type="text/css"><link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    
    <link rel="shortcut icon" href="https://www.seas.upenn.edu/~edinella/favicons/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="https://www.seas.upenn.edu/~edinella/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://www.seas.upenn.edu/~edinella/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://www.seas.upenn.edu/~edinella/favicons/favicon-16x16.png">
    <link rel="canonical" href="https://www.seas.upenn.edu/~edinella/blog-posts/c&#43;&#43;-tour/">
    
    
    <script type="text/javascript" src="https://www.seas.upenn.edu/~edinella/js/anatole-header.min.7e2fc0724240b28c6e214687e73a4a6eb6c196bbace546b9dc86e94cca120b5c.js" integrity="sha256-fi/AckJAsoxuIUaH5zpKbrbBlrus5Ua53IbpTMoSC1w=" crossorigin="anonymous"></script>
    <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.seas.upenn.edu/~edinella/images/site-feature-image.png"/>

<meta name="twitter:title" content="A Whirlwind Tour of C&#43;&#43;"/>
<meta name="twitter:description" content="C&#43;&#43; was originally created in the 1980s as an extension of the C language to add support for classes."/>

</head><body><div class="sidebar animated fadeInDown">
    <div class="logo-title">
      <div class="title">
	      <!-- <img src="https://www.seas.upenn.edu/~edinella/images/image.png" alt="profile picture"> -->
        <h3 title=""><a href="/">Elizabeth Dinella</a></h3>
        <div class="description">
          <p>Assistant Professor <br>
        Bryn Mawr College  
</p>
        </div>
      </div>
    </div>
    <ul class="social-links">
        <li>
        <a href="https://scholar.google.com/citations?user=DxQ4wV0AAAAJ&hl=en&oi=ao" rel="me" aria-label="google scholar">
          <i class="fa fa-2x fa-graduation-cap" aria-hidden="true"></i>
        </a> 
        </li>
        
        <li>
        <a href="https://www.linkedin.com/in/elizabeth-dinella-154772102/" rel="me" aria-label="Linkedin">
          <i class="fa fa-2x fa-linkedin" aria-hidden="true"></i>
        </a>          
        </li>

        
        <li>
        <a href="https://twitter.com/eadinella" rel="me" aria-label="Twitter">
          <i class="fa fa-2x fa-twitter" aria-hidden="true"></i>
        </a>          
        </li>

        
        <li>
        <a href="https://github.com/elizabethdinella" rel="me" aria-label="GitHub">
          <i class="fa fa-2x fa-github" aria-hidden="true"></i>
        </a>          
        </li>

        
        <li>
        <a href="mailto:edinella@brynmawr.edu" rel="me" aria-label="e-mail">
          <i class="fa fa-2x fa-envelope" aria-hidden="true"></i>
        </a>          
        </li>

        
        
    </ul>
    <div class="footer">
        
      </div>
    </div>
</div>
<div class="main">
            <div class="page-top animated fadeInDown">
    <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false" >
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    <ul class="nav" id="navMenu">
        
        
        
        <li><a  href="https://elizabethdinella.github.io/"  title="">About Me</a></li>
        
        
        <li><a  href="https://elizabethdinella.github.io/blog-posts/"  title="">Blog Posts</a></li>
        
        
        <li class="theme-switch-item">
		
        </li>
    </ul>
</div>

            <div class="autopagerize_page_element">
                <div class="content">
<div class="post animated fadeInDown">
    <div class="post-content">

      <div class="post-title">
        <h3>A Whirlwind Tour of C&#43;&#43;
        </h3>
        
        </div>

    <p>C++ was originally created in the 1980s as an <a href="http://www-cs-students.stanford.edu/~sjac/c-to-cpp-info/c-to-cpp-differ">extension of the C language</a> to add support for classes. Since its inception, C++ has grown enormously to include a host of features such as <a href="https://www.tutorialspoint.com/cplusplus/cpp_exceptions_handling.htm">exception handling</a>, templates, an expansion of library functions, stronger type checking, inheritance, and other object-oriented concepts. This article will serve as a primer for C++ as well as a source of resources for a more complete documentation.</p>
<p>This article is organized into three parts: <em>Classes &amp; Objects</em>, <em>General Use C++</em>, and <em>C++ for LLVM</em>. <em>Classes &amp; Objects</em> will cover classes in C++, access modifiers, and object-oriented concepts such as single and multiple inheritance, and polymorphism.  <em>C++ for LLVM</em> will serve as an introduction to the <a href="http://llvm.org/docs/ProgrammersManual.html">LLVM API</a>. Conversely, <em>General Use C++</em> will detail features that are not specific to the LLVM API.</p>
<p>You are encouraged to try out different C++ features in this <a href="https://repl.it/languages/cpp11">Online C++ IDE</a> as you read through the rest of this article.</p>
<h4> Part 1: Classes & Objects </h4>
<blockquote cite="http://www.cplusplus.com/doc/tutorial/classes/">
	“Classes are an expanded concept of data structures: like data structures, they can contain data members, but they can also contain functions as members. An object is an instantiation of a class. In terms of variables, a class would be the type, and an object would be the variable.”
<footer>— <a href="http://www.cplusplus.com/doc/tutorial/classes/">cplusplus.com, Classes I</a></footer>
</blockquote>
<p>Readers that are familiar with other languages such as Java are presumably familiar with many of the object-oriented concepts discussed in this section. Nevertheless, there are some notable features that may be new to readers such as multiple inheritance, compilation, destructors, and manual object management.</p>
<h5> C++ Class Syntax </h5>
<p>Class implementation is usually split between two files: a header and an implementation file. The header file typically contains the class declaration including list of member variables and member function headers. A function header includes the name of the function and tells the compiler what type of data it expects to receive and what type of data it will return. The function body with the actual instructions to execute when called are written in the implementation file. The header and implementation files typically share the same name and end in <span class=code>“.h”</span> and <span class=code>“.cpp” </span>respectively.</p>
<p>Here is an example of a <a href="http://www.cppforschool.com/tutorial/pdf/chapter21-separate-header-and-implementation-files.pdf">Time class</a> split between a header and implementation file. In this example, notice that the header file is referenced in the implementation file using:</p>
<p><span class=code>#include “Time.h”</span></p>
<p>This line tells the C++ compiler to use in <span class=code>Time.cpp</span> the function and class declarations written inside of <span class=code>Time.h</span>. Suppose that we additionally include a file that itself also includes <span class=code>Time.h</span>. Now, we have multiple definitions of the members and functions defined in <span class=code>Time.h</span>. In order to prevent this, C++ has a mechanism to prevent headers from being compiled more than once. These mechanisms, called &ldquo;<em>include guards</em>”, are illustrated in the following lines in <span class=code >Time.h:</p>
<pre style="margin-left:auto; margin-right:auto; max-width:30%">
#ifndef TIME_H 
#define TIME_H
.
.
.
#endif
</pre>
</span>
<p>These lines tell the compiler to compile the <span class=code>Time.h</span> functions only if they have not been compiled yet, to prevent double declaration.</p>
<h5> C++ Scope Resolution Operator </h5>
<p>To access a member function, member variable, or member class, you can use the double colon (::) operator. Examples include <span class=code>ClassName::functionName, ClassName::variableName, namespace::ClassName,</span> or <span class=code>EnumName::Member</span>. Within class scope, the member functions and variables are accessible without explicit scope resolution; but note that in implementation files, the scope resolution operator must be used when defining functions that are declared in the header file.</p>
<h5> Class Compilation </h5>
<p>The compilation of a C++ program consists of two stages: <em>compilation</em> and <em>linking</em>. Compilation includes preprocessing (macro and include expansion), transforming the program into an intermediate language such as LLVM IR, optimizing the intermediate program, and generating object code such as x86 assembly. Linking puts together one or many object code files into an executable program. In this stage, the compiler matches function calls with their definitions and ensures that each function that is called has exactly one definition. Linking is a common source of errors for users that are new to C++ classes.</p>
<h5> Access Specifiers </h5>
<p>Access specifiers identify access rights for the members they are applied to. Access can be either <span class=code>private, public</span>, or <span class=code>protected</span>. By default, a class has private access to all of its members. This means that members of the class are only accessible from within members of the same class. Conversely, a <span class=code>public</span> member variable is accessible from everywhere that the object is visible. A <span class=code>protected</span> member variable is accessible from members of the same class and members of its child classes.</p>
<p>These rules change slightly when the <span class=code>friend</span> keyword is introduced. This feature will be detailed in the <strong>Friendship</strong> section below.</p>
<h5> Constructors and Destructors </h5>
<p>Each class has a specific <em>constructor</em> function that is called each time a new object of the class is created. The <em>constructor</em> has the same name as the class and is typically used to initialize member variables and/or perform some setup. The <em>default constructor</em> is a special constructor that is called when an object of the class is declared but is not initialized with any arguments. For example, consider the following declarations of the Rectangle class from <a href="http://cpp.sh/543b">here:</a></p>
<span class=code>
<pre style="margin-left:auto; margin-right:auto; max-width:80%">
Rectangle r1;	 	<span style="color:green">// ok, default constructor called</span>
Rectangle r2();		<span style="color:red">// oops, default constructor NOT called</span>
</pre>
</span>
<p>The default constructor is called for <span class=code>r1</span>. Note that <span class=code>r1</code> is not even constructed with an empty set of parentheses. This is because the empty set of parentheses make <span class=code>r2</span> a function declaration instead of an object declaration: it is a function that takes no arguments and returns a value of type Rectangle.</p>
<p>Another special constructor type is the <span class=code>copy constructor</span>. This is executed when an object of the same type is passed to the constructor. By default, it performs a shallow copy of all member variables. If a class has a pointer type member variable, a shallow copy may not be enough. Multiple classes may share the same object the pointer refers to which can cause issues if this is not what the developer intended. If a different semantics is preferred, the developer can write their own copy constructor with the signature:</p>
<span class=code>
<pre style="margin-left:auto; margin-right:auto; max-width:50%">
Rectangle::Rectangle(const Rectangle& x)
</pre>
</span>
<p>Likewise, the <em>destructor</em> function is called each time an object of the class is destroyed. It has the same name as the class (and the constructor), but is preceded with the tilde sign (~). It is typically used to perform some cleanup of heap allocated memory.</p>
<p>When a class has dynamic member variables, these member variables are default-constructed when an instance of the class is created (when the constructor is called), and then re-constructed when they are initialized. To avoid this wasteful double-construction of member variables, constructors can use initialization lists before their bodies, ensuring that the member variables (<span class=code>width</span> and <span class=code>height</span> below) are only constructed once:</p>
<span class=code>
<pre style="margin-left:auto; margin-right:auto; max-width:75%">
Rectangle::Rectangle(int x, int y) : width(x), height(y) { } 
</pre>
</span>
<h5><span class=code>this<span> keyword</h5>
<blockquote cite="http://www.cplusplus.com/doc/tutorial/templates/">
“The keyword <a href="http://www.cs.technion.ac.il/users/yechiel/c++-faq/using-this-in-ctors.html">this</a> represents a pointer to the object whose member function is being executed.  It is used within a <a href="http://www.cs.technion.ac.il/users/yechiel/c++-faq/using-this-in-ctors.html">class</a>'s member function to refer to the object itself.” 
<footer>— <a href="http://www.cplusplus.com/doc/tutorial/templates/">cplusplus.com, Classes II</a></footer>
</blockquote>
<p>It is often used to resolve ambiguity between a member variable of the object executing the call and an object of the same class passed as a parameter. An example illustrating this is shown in the member function <a href="http://cpp.sh/5m2">isitme.</a></p>
<h5> Static members </h5>
<p>A static member of a class is a variable that is shared between all objects of the class. Likewise, a static member function is not associated with any specific object. Therefore, they do not have a <span class=code>this</span> pointer.</p>
<h5> Friendship </h5>
<p>The <span class=code>friend</span> keyword defines access relationships between functions and classes. If a class A is a “friend” of class B, member functions in class A can access <span class=code>private</span> and <span class=code>protected</span> members of class B. Friendship is defined in the class giving access (Class B in this example). An example of friend classes is shown <a href="http://cpp.sh/3ws">here.</a></p>
<p>Similarly, if a function is a “friend” of class B, it can access <span class=code>private</span> and <span class=code>protected</span> members of class B within its function body. An example of a friend function is shown <a href="http://cpp.sh/3bu">here.</a></p>
<h5> Inheritance </h5>
<p>Inheritance creates an <em>“is-a”</em> relationship between the <em>derived</em> and <em>base</em> class. The derived class inherits member variables and functions from the base class. It can also include its own member variables and functions. An example can be found <a href="http://cpp.sh/6sv7cq">here.</a> The Rectangle class is derived from the base class, Shape.</p>
<p>Recall that derived classes can access <span class=code>protected</span> members in the base class.</p>
<p>A base class can inherit with access modifiers <span class=code>public, private,</span> or <span class=code>protected</span>. A public inheritance (shown in the example) behaves as expected. The variables inherited from the base class keep their access status. Conversely, in <span class=code>private</span> inheritance, all inherited members become private. In <span class=code>protected</span> inheritance, public members become protected and all other members are unchanged.</p>
<h5> Multiple Inheritance and Virtualism </h5>
<p>As described in the introduction, C++ was originally created to add support for classes to C. Thus, C++ includes many object-oriented concepts that did not exist in C. In this section, we assume that the reader has a basic understanding of classes and inheritance.</p>
<p>Unlike Java, C++ supports multiple inheritance. This means that an object can have one or more parent class. At first glance this seems like a useful feature that should exist in all programming languages that support inheritance. However, multiple inheritance is often a source of confusion and implementation troubles.</p>
<p style="margin-top:20px; margin-bottom:20px">
Consider the infamous “Diamond Problem”: 
</p>
<img src="../../images/diamond.png" class=center style="background: gray; margin: 20px"> 
<p style="margin-top:110px;">
<p>Both B and C inherit from A and thus contain A’s member variables. This could lead to ambiguities and duplicate copies of A’s member variables in class D. To solve this, we can use <a href="https://pabloariasal.github.io/2017/06/10/understanding-virtual-tables/"><em>Virtual Inheritance</em></a> as follows:</p>
</p>
<span class=code>
<pre style="margin-left:auto; margin-right:auto; max-width:60%;">
Class B : public virtual A { }
Class C : public virtual A { }
</pre>
</span>
<p style="margin-bottom:110px"></p>
<h5> Polymorphism </h5>
<p>Class inheritance provides many useful features. One of these, is that a pointer to a derived class is type-compatible with a pointer of the base class. More concretely, if class B is derived from base class A, a pointer to class A can also refer to an object of type class B. This is intuitive as class B has an <em>“is-a”</em> relationship to class A.</p>
<h4> Part 2: General C++ </h4>
<p>C++, like other statically typed languages, requires the developer to specify types in nearly all declarations. However, this can lead to unnecessary repetition of code that is somewhat type independent. Consider the code for the STL vector. Regardless of the element type, the code to add an element, remove an element, calculate size, and even sort are likely identical. <a href="http://ultra.sdk.free.fr/docs/DxO/C%2B%2B%20Templates%20The%20Complete%20Guide.pdf">Templates</a> provide a way to write programs that are <em>generic</em> or independent of any particular type. Below is an example of a templated swap function. So long as the types of n1 and n2 are equivalent, this function will be applied successfully.</p>
<pre style="color:#d1d1d1;padding:10px"><span style="color:#e66170; font-weight:bold; ">template</span> <span style="color:#b060b0; ">&lt;</span><span style="color:#e66170; font-weight:bold; ">typename</span> T<span style="color:#b060b0; ">&gt;</span> <span style="color:#e66170; font-weight:bold; ">void</span> Swap<span style="color:#d2cd86; ">(</span>T <span style="color:#d2cd86; ">&amp;</span>n1<span style="color:#d2cd86; ">,</span> T <span style="color:#d2cd86; ">&amp;</span>n2<span style="color:#d2cd86; ">)</span> <span style="color:#b060b0; ">{</span>
    T temp<span style="color:#b060b0; ">;</span>
    temp <span style="color:#d2cd86; ">=</span> n1<span style="color:#b060b0; ">;</span>
    n1 <span style="color:#d2cd86; ">=</span> n2<span style="color:#b060b0; ">;</span>
    n2 <span style="color:#d2cd86; ">=</span> temp<span style="color:#b060b0; ">;</span>
<span style="color:#b060b0; ">}</span>
</pre>
<h5> C++ Type Checking </h5>
<p>In the introduction, we briefly noted that C++ has stronger type checking than C. In this section, we will describe how the stronger type checking manifests in differences in enums and void pointers. In C, an enum is simply an alias to integer types. However, the C++ enum defines an actual type. So,</p>

    </div>
    <div class="post-footer">
      <div class="info">
        
        
      </div>
    </div>

    
</div>


                </div>
            </div>
        </div>
</body>



<script type="text/javascript" src="https://www.seas.upenn.edu/~edinella/js/jquery.min.86b1e8f819ee2d9099a783e50b49dff24282545fc40773861f9126b921532e4c.js" integrity="sha256-hrHo&#43;BnuLZCZp4PlC0nf8kKCVF/EB3OGH5EmuSFTLkw=" crossorigin="anonymous"></script>




<script type="text/javascript" src="https://www.seas.upenn.edu/~edinella/js/bundle.min.0f9c74cb78f13d1f15f33daff4037c70354f98acfbb97a6f61708966675c3cae.js" integrity="sha256-D5x0y3jxPR8V8z2v9AN8cDVPmKz7uXpvYXCJZmdcPK4=" crossorigin="anonymous"></script>

<script type="text/javascript" src="https://www.seas.upenn.edu/~edinella/js/medium-zoom.min.92f21c856129f84aeb719459b3e6ac621a3032fd7b180a18c04e1d12083f8aba.js" integrity="sha256-kvIchWEp&#43;ErrcZRZs&#43;asYhowMv17GAoYwE4dEgg/iro=" crossorigin="anonymous"></script></html></body>

</html>
